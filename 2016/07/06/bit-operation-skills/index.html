<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="什么是位运算程序中的所有数在计算机内存中都是以二进制的形式储存的。位运算说穿了，就是直接对整数在内存中的二进制位进行操作。比如，and运算本来是一个逻辑运算符，但整数与整数之间也可以进行and运算。举个例子，6的二进制是110，11的二进制是1011，那么6 and 11的结果就是2，它是二进制对应位进行逻辑运算的结果（0表示False，1表示True，空位都当0处理）： 110 AND 1011">
<meta property="og:type" content="article">
<meta property="og:title" content="位运算简介及基本技巧">
<meta property="og:url" content="https://blog.yangx.site/2016/07/06/bit-operation-skills/index.html">
<meta property="og:site_name" content="YXiao&#39;s Blog">
<meta property="og:description" content="什么是位运算程序中的所有数在计算机内存中都是以二进制的形式储存的。位运算说穿了，就是直接对整数在内存中的二进制位进行操作。比如，and运算本来是一个逻辑运算符，但整数与整数之间也可以进行and运算。举个例子，6的二进制是110，11的二进制是1011，那么6 and 11的结果就是2，它是二进制对应位进行逻辑运算的结果（0表示False，1表示True，空位都当0处理）： 110 AND 1011">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2016-07-06T14:09:15.000Z">
<meta property="article:modified_time" content="2020-02-29T10:39:12.067Z">
<meta property="article:author" content="yxiao">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>位运算简介及基本技巧</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
    <script data-ad-client="ca-pub-9170262800275390" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">文章</a></li>
         
          <li><a href="/categories/">目录</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2016/07/18/pandas-intro/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2016/06/30/python-function-default-params/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://blog.yangx.site/2016/07/06/bit-operation-skills/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://blog.yangx.site/2016/07/06/bit-operation-skills/&text=位运算简介及基本技巧" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://blog.yangx.site/2016/07/06/bit-operation-skills/&title=位运算简介及基本技巧" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=位运算简介及基本技巧&body=Check out this article: https://blog.yangx.site/2016/07/06/bit-operation-skills/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是位运算"><span class="toc-number">1.</span> <span class="toc-text">什么是位运算</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#位运算基础"><span class="toc-number">2.</span> <span class="toc-text">位运算基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#常用位操作小技巧"><span class="toc-number">3.</span> <span class="toc-text">常用位操作小技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#判断奇偶"><span class="toc-number">3.1.</span> <span class="toc-text">判断奇偶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#交换两数"><span class="toc-number">3.2.</span> <span class="toc-text">交换两数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变换符号"><span class="toc-number">3.3.</span> <span class="toc-text">变换符号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#求绝对值"><span class="toc-number">3.4.</span> <span class="toc-text">求绝对值</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#两个位运算的实例"><span class="toc-number">4.</span> <span class="toc-text">两个位运算的实例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Single-Number"><span class="toc-number">4.1.</span> <span class="toc-text">Single Number</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#原题"><span class="toc-number">4.1.1.</span> <span class="toc-text">原题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解题思路"><span class="toc-number">4.1.2.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC源码"><span class="toc-number">4.1.3.</span> <span class="toc-text">AC源码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Power-Of-Two"><span class="toc-number">4.2.</span> <span class="toc-text">Power Of Two</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#原题-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">原题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解题思路-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC源码-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">AC源码</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        位运算简介及基本技巧
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">YXiao's Blog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2016-07-06T14:09:15.000Z" itemprop="datePublished">2016-07-06</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Algorithms/">Algorithms</a>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="什么是位运算"><a href="#什么是位运算" class="headerlink" title="什么是位运算"></a>什么是位运算</h1><p>程序中的所有数在计算机内存中都是以二进制的形式储存的。位运算说穿了，就是直接对整数在内存中的二进制位进行操作。比如，and运算本来是一个逻辑运算符，但整数与整数之间也可以进行and运算。举个例子，6的二进制是110，11的二进制是1011，那么6 and 11的结果就是2，它是二进制对应位进行逻辑运算的结果（0表示False，1表示True，空位都当0处理）：</p>
<pre><code>110 AND 1011 --&gt; 0010(b) --&gt; 2(d)</code></pre><p>由于位运算直接对内存数据进行操作，不需要转成十进制，因此处理速度非常快。当然有人会说，这个快了有什么用，计算6 and 11没有什么实际意义啊。本文就将告诉你，位运算到底可以干什么，有些什么经典应用，以及如何用位运算优化你的程序。</p>
<h1 id="位运算基础"><a href="#位运算基础" class="headerlink" title="位运算基础"></a>位运算基础</h1><p>基本的位操作符有与、或、异或、取反、左移、右移这6种，它们的运算规则如下所示：</p>
<table>
<thead>
<tr>
<th align="left">符号</th>
<th align="left">描述</th>
<th align="left">运算规则</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;</td>
<td align="left">与</td>
<td align="left">两个位都为1时，结果才为1</td>
</tr>
<tr>
<td align="left">丨</td>
<td align="left">或</td>
<td align="left">两个位都为0时，结果才为0</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">异或</td>
<td align="left">两个位相同为0，相异为1</td>
</tr>
<tr>
<td align="left">~</td>
<td align="left">取反</td>
<td align="left">0变1，1变0</td>
</tr>
<tr>
<td align="left">&lt;&lt;</td>
<td align="left">左移</td>
<td align="left">各二进位全部左移若干位，高位丢弃，低位补0</td>
</tr>
<tr>
<td align="left">&gt;&gt;</td>
<td align="left">右移</td>
<td align="left">各二进位全部右移若干位，对无符号数，高位补0，有符号数，各编译器处理方法不一样，有的补符号位（算术右移），有的补0（逻辑右移）</td>
</tr>
</tbody></table>
<p>需要注意以下几点：</p>
<ul>
<li><p>这6种操作符，只有~取反是单目操作符，其它5种都是双目操作符；</p>
</li>
<li><p>位操作只能用于整形数据，对float和double类型进行位操作会被编译器报错；</p>
</li>
<li><p>移位操作都是采取算术移位操作，算术移位是相对于逻辑移位，它们在左移操作中都一样，低位补0即可，但在<strong>右移中逻辑移位的高位补0而算术移位的高位是补符号位</strong>。如下面代码会输出-4和3；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a, b &#x3D; -15, 15</span><br><span class="line">puts a &gt;&gt; 2</span><br><span class="line">puts b &gt;&gt; 2</span><br></pre></td></tr></table></figure>

<p>因为15=0000 1111(二进制)，右移二位，最高位由符号位填充将得到0000 0011即3。-15 = 1111 0001(二进制)，右移二位，最高位由符号位填充将得到1111 1100即-4。</p>
</li>
<li><p>位操作符的运算优先级比较低，因为尽量使用括号来确保运算顺序，否则很可能会得到莫明其妙的结果。比如要得到像1，3，5，9这些2^i+1的数字。写成a = 1 &lt;&lt; i + 1是不对的，程序会先执行i + 1，再执行左移操作。应该写成a = (1 &lt;&lt; i) + 1; </p>
</li>
<li><p>另外位操作还有一些复合操作符，如&amp;=、|=、 ^=、&lt;&lt;=、&gt;&gt;=。</p>
</li>
</ul>
<h1 id="常用位操作小技巧"><a href="#常用位操作小技巧" class="headerlink" title="常用位操作小技巧"></a>常用位操作小技巧</h1><p>下面对位操作的一些常见应用作个总结，有判断奇偶、交换两数、变换符号及求绝对值。这些小技巧应用易记，应当熟练掌握。</p>
<h2 id="判断奇偶"><a href="#判断奇偶" class="headerlink" title="判断奇偶"></a>判断奇偶</h2><p>只要根据最未位是0还是1来决定，为0就是偶数，为1就是奇数。因此可以用if ((a &amp; 1) == 0)代替if (a % 2 == 0)来判断a是不是偶数。</p>
<p>下面程序输出0到100之间的所有奇数。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span>.times <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">  puts i <span class="keyword">if</span> i &amp; <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>


<h2 id="交换两数"><a href="#交换两数" class="headerlink" title="交换两数"></a>交换两数</h2><p>一般交换函数的写法是：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">swap</span><span class="params">(a, b)</span></span></span><br><span class="line">  <span class="keyword">if</span> a != b</span><br><span class="line">    c = a</span><br><span class="line">    a = b</span><br><span class="line">    b = c</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>注：ruby中这么写简直就是蠢，a, b = b, a即可，这里方便举例。</p>
<p>可以用位操作来实现交换两数而不用第三方变量：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">swap</span><span class="params">(a, b)</span></span></span><br><span class="line">  <span class="keyword">if</span> a != b</span><br><span class="line">    a ^= b</span><br><span class="line">    b ^= a</span><br><span class="line">    a ^= b</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>可以这样理解：</p>
<ol>
<li>a ^= b 即a = (a ^ b);</li>
<li>b ^= a 即b = b ^ (a ^ b)，由于^运算满足交换律，b ^ (a ^ b)=b ^ b ^ a。由于一个数和自己异或的结果为0并且任何数与0异或都会不变的，所以此时b被赋上了a的值;</li>
<li>a ^= b 就是a = a ^ b，由于前面二步可知a = (a ^ b)，b = a，所以a = a ^ b即a = (a ^ b) ^ a。故a会被赋上b的值。</li>
</ol>
<p>再来个实例说明下以加深印象。a = 13, b = 6:<br>a的二进制为 13 = 8 + 4 + 1 = 1101(二进制)<br>b的二进制为 6 = 4 + 2 = 110(二进制)</p>
<ol>
<li>a ^= b  a = 1101 ^ 110 = 1011;</li>
<li>b ^= a  b = 110 ^ 1011 = 1101; 即b == 13</li>
<li>a ^= b  a = 1011 ^ 1101 = 110; 即a == 6</li>
</ol>
<h2 id="变换符号"><a href="#变换符号" class="headerlink" title="变换符号"></a>变换符号</h2><p>变换符号就是正数变成负数，负数变成正数。<br>如对于-11和11，可以通过下面的变换方法将-11变成11:</p>
<pre><code>1111 0101(二进制)
取反-&gt; 0000 1010(二进制) 
加1-&gt; 0000 1011(二进制)</code></pre><p>同样可以这样的将11变成-11</p>
<pre><code>0000 1011(二进制)
取反-&gt; 1111 0100(二进制)
加1-&gt; 1111 0101(二进制)</code></pre><p>因此变换符号只需要取反后加1即可。完整代码如下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sign_reversal</span><span class="params">(n)</span></span></span><br><span class="line">  <span class="keyword">return</span> ~n + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h2 id="求绝对值"><a href="#求绝对值" class="headerlink" title="求绝对值"></a>求绝对值</h2><p>位操作也可以用来求绝对值，对于负数可以通过对其取反后加1来得到正数。对-6可以这样：</p>
<pre><code>1111 1010(二进制)
取反-&gt;0000 0101(二进制)
加1-&gt; 0000 0110(二进制)</code></pre><p>来得到6。</p>
<p>因此先移位来取符号位，i = a &gt;&gt; 31;要注意如果a为正数，i等于0，为负数，i等于-1。然后对i进行判断——如果i等于0，直接返回；否之，返回~a + 1。完整代码如下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(n)</span></span></span><br><span class="line">  i = n &gt;&gt; <span class="number">31</span></span><br><span class="line">  <span class="keyword">return</span> i == <span class="number">0</span> ? n : (~n + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>现在再分析下。对于任何数，与0异或都会保持不变，与-1即0xFFFFFFFF异或就相当于取反。因此，n与i异或后再减i（因为i为0或-1，所以减i即是要么加0要么加1）也可以得到绝对值。所以可以对上面代码优化下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(n)</span></span></span><br><span class="line">  i = a &gt;&gt; <span class="number">31</span></span><br><span class="line">  <span class="keyword">return</span> ((a ^ i) - i)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>注意这种方法没用任何判断表达式，而且有些笔面试题就要求这样做，因此建议读者记住该方法。</p>
<h1 id="两个位运算的实例"><a href="#两个位运算的实例" class="headerlink" title="两个位运算的实例"></a>两个位运算的实例</h1><h2 id="Single-Number"><a href="#Single-Number" class="headerlink" title="Single Number"></a>Single Number</h2><h3 id="原题"><a href="#原题" class="headerlink" title="原题"></a>原题</h3><p>一个数组中除了一个数字出现过一次外，其余的数字都出现了两次，找出那个只出现一次的数字。</p>
<p>注意点：</p>
<ul>
<li>算法时间杂度要求为O(n)</li>
<li>空间复杂度为O(1)</li>
</ul>
<p>例子:</p>
<p>输入: nums = [1, 2, 3, 4, 3, 2, 1]<br>输出: 4</p>
<h3 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h3><p>非常常见的一道算法题，将所有数字进行异或操作即可。对于异或操作明确以下三点：</p>
<ul>
<li>一个整数与自己异或的结果是0</li>
<li>一个整数与0异或的结果是自己</li>
<li>异或操作满足交换律，即a^b=b^a</li>
</ul>
<p>所以对所有数字进行异或操作后剩下的就是那个只出现一次的数字。</p>
<h3 id="AC源码"><a href="#AC源码" class="headerlink" title="AC源码"></a>AC源码</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">single_number</span><span class="params">(nums)</span></span></span><br><span class="line">  res = <span class="number">0</span></span><br><span class="line">  nums.each <span class="keyword">do</span> <span class="params">|num|</span></span><br><span class="line">    res ^= num</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  res</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h2 id="Power-Of-Two"><a href="#Power-Of-Two" class="headerlink" title="Power Of Two"></a>Power Of Two</h2><h3 id="原题-1"><a href="#原题-1" class="headerlink" title="原题"></a>原题</h3><p>这道题让我们判断一个数是否为2的次方数，而且要求时间和空间复杂度都为常数。</p>
<h3 id="解题思路-1"><a href="#解题思路-1" class="headerlink" title="解题思路"></a>解题思路</h3><p>比较下x - 1和x的关系试试？以x=4为例。</p>
<pre><code>0100 ==&gt; 4
0011 ==&gt; 3</code></pre><p>两个数进行按位与就为0了！如果不是2的整数幂则无上述关系，反证法可证之。</p>
<h3 id="AC源码-1"><a href="#AC源码-1" class="headerlink" title="AC源码"></a>AC源码</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_power_of_two</span><span class="params">(n)</span></span></span><br><span class="line"> <span class="keyword">return</span> (n &gt; <span class="number">0</span> <span class="keyword">and</span> <span class="keyword">not</span> (n &amp; n-<span class="number">1</span>))</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">文章</a></li>
         
          <li><a href="/categories/">目录</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是位运算"><span class="toc-number">1.</span> <span class="toc-text">什么是位运算</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#位运算基础"><span class="toc-number">2.</span> <span class="toc-text">位运算基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#常用位操作小技巧"><span class="toc-number">3.</span> <span class="toc-text">常用位操作小技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#判断奇偶"><span class="toc-number">3.1.</span> <span class="toc-text">判断奇偶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#交换两数"><span class="toc-number">3.2.</span> <span class="toc-text">交换两数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变换符号"><span class="toc-number">3.3.</span> <span class="toc-text">变换符号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#求绝对值"><span class="toc-number">3.4.</span> <span class="toc-text">求绝对值</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#两个位运算的实例"><span class="toc-number">4.</span> <span class="toc-text">两个位运算的实例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Single-Number"><span class="toc-number">4.1.</span> <span class="toc-text">Single Number</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#原题"><span class="toc-number">4.1.1.</span> <span class="toc-text">原题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解题思路"><span class="toc-number">4.1.2.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC源码"><span class="toc-number">4.1.3.</span> <span class="toc-text">AC源码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Power-Of-Two"><span class="toc-number">4.2.</span> <span class="toc-text">Power Of Two</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#原题-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">原题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解题思路-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC源码-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">AC源码</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://blog.yangx.site/2016/07/06/bit-operation-skills/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://blog.yangx.site/2016/07/06/bit-operation-skills/&text=位运算简介及基本技巧" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://blog.yangx.site/2016/07/06/bit-operation-skills/&title=位运算简介及基本技巧" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=位运算简介及基本技巧&body=Check out this article: https://blog.yangx.site/2016/07/06/bit-operation-skills/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2020 yxiao
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">文章</a></li>
         
          <li><a href="/categories/">目录</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-159372775-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
